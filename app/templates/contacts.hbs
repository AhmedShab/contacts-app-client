<h1>Contacts</h1>

<p>Database size: {{model.length}}</p>
<p>Contacts with email: {{contactsWithEmail}}</p>

<div class="container-fluid">
    <div class="row well">
        <div class="col-xs-3">
          {{input type="text" value=name size="100" placeholder="Enter a new name" class="form-control"}}
        </div>

        <div class="col-xs-3">
          {{input type="text" value=phone size="20" placeholder="Phone" class="form-control"}}
        </div>

        <div class="col-xs-3">
          {{input type="text" value=email size="20" placeholder="Email" class="form-control"}}
        </div>

        <button type="submit" class="btn btn-warning" {{action 'addNewContact'}} disabled={{nothingThere}}>Add New Contact</button>
    </div>
</div>

<table class="table table-bordered table-hover">

    <thead>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Phone
            <button {{action "toggleShowPhoneNumber"}} class="btn btn-xs {{if isShowingPhoneNumber 'btn-danger' 'btn-success'}}">
              {{if isShowingPhoneNumber 'Hide' 'Show'}}
            </button>
        </th>
        <th>Email</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    {{#each model key="id" as |item|}}
        <tr>
            <td>{{item.id}}</td>
            <td>{{item.name}}</td>
            <td>{{#if isShowingPhoneNumber}}{{item.phone}}{{/if}}</td>
            <td>{{item.email}}</td>
            <td>
                <button class="btn btn-xs btn-danger" {{action "deleteContact" item}}>Delete</button>
            </td>
        </tr>
    {{else}}
        <tr><td colspan="4" class="text-center">Please add your first contact to the list</td></tr>
    {{/each}}
    </tbody>
</table>